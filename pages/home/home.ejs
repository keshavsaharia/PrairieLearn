<!DOCTYPE html>
<html>
  <head>
    <%- include('../partials/head'); %>
  </head>
  <body>
    <%- include('../partials/navbar', {navPage: 'home'}); %>
    <div id="content" class="container">

      <% if (devMode) { %>
        <nav class="navbar fixed-bottom navbar-light bg-light">
            <a class="navbar-brand"><small class="text-muted">PrairieLearn is running in development mode.</small></a>
            <form class="form-inline">
                <button class="btn btn-outline-primary"><i class="fa fa-book"></i> Documentation</button>
                &nbsp;&nbsp;
                <button class="btn btn-outline-secondary" href="https://github.com/PrairieLearn/PrairieLearn"><i class="fa fa-github"></i> Github</button>
            </form>
        </nav>
      <% } %>

      <!-- <% if (courses && courses.length > 0) { %>
      <div class="card-columns">
        <% courses.forEach(function(course) { %>
        <div class="card" style="width: 20rem;">
          <img class="card-img-top" src="<%= course.image %>" alt="">
          <div class="card-body">
            <h4 class="card-title"><%= course.label %></h4>
            <p class="card-text">This is a description of the course.</p>
            <a href="#" class="btn btn-primary">Open</a>
          </div>
        </div>
        <% }); %>
      </div>
      <% } %> -->
      <% if (courses && courses.length > 0) { %>
      <div class="card">
        <h3 class="card-header">Courses <small class="text-muted">for instructors</small></h3>
        <table class="table table-condensed table-hover table-striped no-margin">
          <tbody>
            <% courses.forEach(function(course) { %>
            <tr>
              <td>
                <a href="<%= plainUrlPrefix %>/course/<%= course.id %>">
                  <%= course.label %>
                </a>
              </td>
            </tr>
            <% }); %>
          </tbody>
        </table>
      </div>
      <% } %>

      <br>
      <div class="card">
        <% if (courses && courses.length > 0) { %>
          <h3 class="card-header">Course instances
            <small class="text-muted">for students</small></h3>
        <% } else { %>
          <h3 class="card-header">Courses</h3>
        <% } %>
        <% if (course_instances && course_instances.length == 0) { %>

        <% if (devMode) { %>
        <div class="card-body">
          <p>No courses loaded. Click <strong>“Load from disk”</strong>
          above and then click <strong>“Home”</strong> to come back to
          this page.</p>
        </div>
        <% } else { %> <!-- devMode -->
        <div class="card-body">
          <p>No courses found. Use the “Add or remove courses” button below.</p>
        </div>
        <% } %> <!-- devMode -->

        <% } else { %> <!-- course_instances.length -->
          <table class="table table-condensed table-hover table-striped no-margin">
            <tbody>
              <% course_instances.forEach(function(course_instance) { %>
              <tr>
                <td>
                  <a href="<%= plainUrlPrefix %>/course_instance/<%= course_instance.id %>">
                    <%= course_instance.label %>
                  </a>
                </td>
              </tr>
              <% }); %>
            </tbody>
          </table>
        <% } %>
        <div class="card-footer text-right">
          <a href="<%= plainUrlPrefix %>/enroll" class="btn btn-primary">
            Add or remove courses
          </a>
        </div>
      </div>
    </div>
  </body>
</html>
